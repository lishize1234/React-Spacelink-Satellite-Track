(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{170:function(e,t,a){e.exports=a.p+"static/media/starlink_logo.13dbd9ca.svg"},176:function(e,t,a){e.exports=a.p+"static/media/satellite.07c6d561.svg"},191:function(e,t,a){e.exports=a(389)},196:function(e,t,a){},197:function(e,t,a){e.exports=a.p+"static/media/stars_footer.08dbde37.jpg"},389:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),i=a(22),r=a.n(i),o=(a(196),a(170)),c=a.n(o),s=(a(197),a(401)),u=a(41),d=a(35),m=a(393),b=a(394),g=a(100),p=a(101),f=a.n(p),h=a(400),E=a(396),v=a(402),j=a(399),O=function(e){var t=e.curLon,a=e.curLa,n=e.initialValues,i=e.setInitialValues,r=e.locationAvailable,o={wrapperCol:{offset:8,span:16}},c=function(e,t){i(Object(u.a)(Object(u.a)({},n),{},Object(g.a)({},t,e)))};return l.a.createElement("div",{className:"observer-info-container"},l.a.createElement(f.a,{level:5},"Observer Info"),l.a.createElement(h.a,{disabled:!r,style:{margin:"10px",color:"rgb(54, 42, 88)"},onChange:function(e){return function(e){var l={longitude:t,latitude:a};e?console.log(l):(l.longitude=0,l.latitude=0),i(Object(u.a)(Object(u.a)({},n),l))}(e.target.checked)}},"Use Your Own Location"),l.a.createElement(E.a,Object.assign({},{labelCol:{span:8},wrapperCol:{span:24}},{initialValues:n,onFinish:function(t){t=Object(u.a)({},n),e.findSatellitesOnClick(t)}}),l.a.createElement(E.a.Item,{label:"Longitude",name:"longitude",rules:[{required:!0,message:"Please enter a valid longitude!"}]},l.a.createElement(v.a,{min:-180,max:180,style:{width:"40%"},disabled:e.disabled,value:n.longitude,onChange:function(e){return c(e,"longitude")}}),null),l.a.createElement(E.a.Item,{label:"Latitude",name:"latitude",rules:[{required:!0,message:"Please enter a valid latitude!"}]},l.a.createElement(v.a,{min:-90,max:90,style:{width:"40%"},disabled:e.disabled,value:n.latitude,onChange:function(e){return c(e,"latitude")}}),null),l.a.createElement(E.a.Item,{label:"Altitude(meters)",name:"altitude",rules:[{required:!0,message:"Please enter a valid altitude!"}]},l.a.createElement(v.a,{min:-413,max:8850,style:{width:"40%"},disabled:e.disabled,value:n.altitude,onChange:function(e){return c(e,"altitude")}})),l.a.createElement(E.a.Item,{label:"Radius",name:"radius",rules:[{required:!0,message:"Please enter a valid radius!"}]},l.a.createElement(v.a,{min:0,max:90,style:{width:"40%"},disabled:e.disabled,value:n.radius,onChange:function(e){return c(e,"radius")}})),l.a.createElement(E.a.Item,o,l.a.createElement(j.a,{type:"primary",htmlType:"submit",disabled:e.loading||e.disabled},"Find nearby satellites"))))},y=["#108ee8","#40a8f2","#0c66a7","#58b3f3","#0f83d7","#88c8f7","#b7defa","#1192ee","#e7f4fd"],k=a(395),L=a(398),S=a(176),w=a.n(S),x=function(e){var t=e.satList,a=e.updateSatelliteList,n=e.loading,i=e.disabled;return l.a.createElement("div",{className:"satellite-list-container"},l.a.createElement(f.a,{level:5},"Nearby Satellites (",t?t.length:0,")"),l.a.createElement("p",null,"Select the satellites you wanna track on the world map at the right side"),l.a.createElement("hr",null),l.a.createElement(k.b,{className:"sat-list",itemLayout:"horizontal",dataSource:t,loading:n,renderItem:function(e){return l.a.createElement(k.b.Item,{actions:[l.a.createElement(h.a,{onChange:function(n){return function(e,n){var l=t.map((function(t){return t.satid===n.satid?Object(u.a)(Object(u.a)({},t),{},{selected:e}):Object(u.a)({},t)}));a(l)}(n.target.checked,e)},checked:e.selected,disabled:i})]},l.a.createElement(k.b.Item.Meta,{avatar:l.a.createElement(L.a,{src:w.a,size:"large",alt:"satellite"}),title:l.a.createElement("p",null,e.satname),description:"Launch Date: ".concat(e.launchDate)}))}}))},C=a(52),I=a(397),F="".concat("https://www.n2yo.com/rest/v1/satellite","/positions"),N="Idle",M="Tracking...",T="Complete",A=function(e){var t=e.selectedSatellites,a=e.disabled,i=e.onTracking,r=e.observerInfo,o=e.initialValues,c=Object(n.useState)(1),s=Object(d.a)(c,2),u=s[0],m=s[1],b=Object(n.useState)(0),g=Object(d.a)(b,2),p=g[0],f=g[1],h=Object(n.useState)(N),E=Object(d.a)(h,2),O=E[0],k=E[1],L=Object(n.useState)(void 0),S=Object(d.a)(L,2),w=S[0],x=S[1],A=Object(n.useState)([]),B=Object(d.a)(A,2),V=B[0],P=B[1],J=Object(n.useState)(""),R=Object(d.a)(J,2),W=R[0],X=R[1],K=function(e,t){P(e.map((function(e){return{startLon:e.positions[0].satlongitude,startLat:e.positions[0].satlatitude,midLon:e.positions[Math.floor(t/2)].satlongitude,midLat:e.positions[Math.floor(t/2)].satlatitude,lon:e.positions[t].satlongitude,lat:e.positions[t].satlatitude,name:e.info.satname}})))};return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"track-info-panel"},l.a.createElement(j.a,{type:"primary",onClick:function(){k(M),f(0),i(!0),Promise.all(function(){var e=r.longitude,a=r.latitude,n=r.altitude;return t.map((function(t){var l=t.satid;return fetch("".concat(F,"/").concat(l,"/").concat(a,"/").concat(e,"/").concat(n,"/").concat(60*u,"&apiKey=").concat("JBXXF2-JUENNY-TBY4MS-4K0X")).then((function(e){return e.json()}))}))}()).then((function(e){var t=function(e){var t=59,a=e[0].positions.length-1;X(new Date(1e3*e[0].positions[t].timestamp).toString()),f(t/a*100),K(e,t);var n=setInterval((function(){if((t+=60)>=a)return k(T),f(t/a*100),x(void 0),i(!1),void clearInterval(n);f(t/a*100),K(e,t),X(new Date(1e3*e[0].positions[t].timestamp).toString())}),1e3);return n}(e);x(t)})).catch((function(){console.log("error")}))},disabled:0===t.length||a,"background-color":"#108ee9"},"Track selected satellite(s)"),l.a.createElement("span",{style:{marginLeft:"10px",marginRight:"10px"}},"for"),l.a.createElement(v.a,{min:1,max:59,defaultValue:1,onChange:function(e){return m(e)},disabled:a}),l.a.createElement("span",{style:{marginLeft:"10px",marginRight:"30px"}},"minutes (1 ~ 59)"),l.a.createElement(I.a,{style:{width:"500px",marginRight:"150px"},percent:p,format:function(){return O},strokeColor:{from:"#108ee9",to:"#87d068"}}),w&&l.a.createElement(j.a,{type:"primary",onClick:function(){w&&(clearInterval(w),f(0),k(N),i(!1),x(void 0))}},"Abort")),l.a.createElement("div",{className:"time-stamp-container",style:{textAlign:"center"}},l.a.createElement("b",null,W)),l.a.createElement(C.ComposableMap,{projectionConfig:{scale:140},height:480,style:{width:"95%",marginLeft:"10px"}},l.a.createElement(C.Graticule,{stroke:"#FFB6C1",strokeWidth:.5}),l.a.createElement(C.Sphere,{stroke:"#FFB6C1",strokeWidth:.5}),l.a.createElement(C.Geographies,{geography:"https://raw.githubusercontent.com/zcreativelabs/react-simple-maps/master/topojson-maps/world-110m.json"},(function(e){return e.geographies.map((function(e){return l.a.createElement(C.Geography,{key:e.rsmKey,geography:e,fill:"#c0d6e4",stroke:"#FFF"})}))})),o.longitude&&o.latitude?l.a.createElement(C.Marker,{coordinates:[o.longitude,o.latitude]},l.a.createElement("circle",{r:3,fill:"#F53"}),l.a.createElement("text",null,"Observer")):null,V.map((function(e,t){return l.a.createElement(C.Line,{coordinates:[[e.startLon,e.startLat],[e.midLon,e.midLat],[e.lon,e.lat]],stroke:t<y.length?y[t]:y[y.length-1],strokeWidth:2,strokeLinecap:"round"})})),V.map((function(e,t){return l.a.createElement(C.Marker,{coordinates:[e.lon,e.lat]},l.a.createElement("circle",{r:4,fill:t<y.length?y[t]:y[y.length-1]}),l.a.createElement("text",{"text-anchor":"middle",x:e.Lon>e.startLon?"10":"20",y:"20",fill:"#0c66a7"},e.name))})),V.map((function(e,t){return l.a.createElement(C.Marker,{coordinates:[e.startLon,e.startLat]},l.a.createElement("circle",{r:3,fill:t<y.length?y[t]:y[y.length-1]}))}))))},B=a(182),V=a.n(B),P="".concat("https://www.n2yo.com/rest/v1/satellite","/above"),J=function(){var e=Object(n.useState)(!1),t=Object(d.a)(e,2),a=t[0],i=t[1],r=Object(n.useState)([]),o=Object(d.a)(r,2),c=o[0],s=o[1],g=Object(n.useState)(!1),p=Object(d.a)(g,2),f=p[0],h=p[1],E=Object(n.useState)({}),v=Object(d.a)(E,2),j=v[0],y=v[1],k=Object(n.useState)(!1),L=Object(d.a)(k,2),S=L[0],w=L[1],C=Object(n.useState)({}),I=Object(d.a)(C,2),F=I[0],N=I[1],M=Object(n.useState)({}),T=Object(d.a)(M,2),B=T[0],J=T[1],R=Object(n.useState)({longitude:0,latitude:0,altitude:0,radius:0}),W=Object(d.a)(R,2),X=W[0],K=W[1];Object(n.useEffect)((function(){"geolocation"in navigator?(console.log("Available"),navigator.geolocation.getCurrentPosition((function(e){N(Number(e.coords.latitude.toFixed(6))),J(Number(e.coords.longitude.toFixed(6))),w(!0)}))):V.a.get("http://ipinfo.io/json",null).then((function(e){if("loc"in e){var t=e.loc.split(",");N(Number(t[0].toFixed(2))),J(Number(t[1].toFixed(2))),w(!0)}else console.warn("Getting location by IP failed.")})).catch((function(e){return console.log(e.error)}))}),[]);return l.a.createElement(m.a,null,l.a.createElement(b.a,{span:8},l.a.createElement(O,{findSatellitesOnClick:function(e){y(e);var t=e.longitude,a=e.latitude,n=e.altitude,l=e.radius;i(!0),fetch("".concat(P,"/").concat(a,"/").concat(t,"/").concat(n,"/").concat(l,"/").concat("52","&apiKey=").concat("JBXXF2-JUENNY-TBY4MS-4K0X")).then((function(e){return e.json()})).then((function(e){s(e.above.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{selected:!1})}))),i(!1)})).catch((function(){i(!1)}))},loading:a,disabled:f,initialValues:X,setInitialValues:K,locationAvailable:S,curLa:F,curLon:B}),l.a.createElement(x,{satList:c,updateSatelliteList:s,loading:a,disabled:f})),l.a.createElement(b.a,{span:16},l.a.createElement(A,{selectedSatellites:c.filter((function(e){return e.selected})),onTracking:h,disabled:f,observerInfo:j,initialValues:X})))},R=s.a.Header,W=s.a.Footer,X=s.a.Content;var K=function(){return l.a.createElement(s.a,null,l.a.createElement(R,null,l.a.createElement("img",{src:c.a,className:"App-logo",alt:"logo"}),l.a.createElement("p",{className:"title"},"StarLink Tracker")),l.a.createElement(X,null,l.a.createElement(J,null)),l.a.createElement(W,null,l.a.createElement("span",{className:"annotation"},"@2020 StarLink Tracker. All Rights Reserved. Website Made by Shize Li")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(K,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[191,1,2]]]);
//# sourceMappingURL=main.6ca9fafc.chunk.js.map